(()=>{"use strict";var e={447:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),a=n.n(s),i=n(314),r=n.n(i)()(a());r.push([e.id,".login__form {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 40px 32px;\n  max-width: 400px;\n  width: 100%;\n  border: thick double seashell;\n  border-radius: 14px;\n  visibility: visible;\n  opacity: 1;\n}\n\n.start-page.visible .login__form {\n  animation: hideLogin 0.5s 1;\n  animation-fill-mode: forwards;\n}\n\n.start-page.visible.no-login .login__form {\n  opacity: 0;\n}\n\n@keyframes hideLogin {\n  100% {\n    visibility: hidden;\n    opacity: 0;\n  }\n}\n\n.label {\n  display: inline-block;\n  max-width: 104px;\n  width: 100%;\n  font-size: 20px;\n  color: white;\n}\n\n.form__input {\n  margin-bottom: 20px;\n  padding: 4px 10px;\n  max-width: 66%;\n  font-size: 20px;\n  border: 1px solid transparent;\n  border-radius: 8px;\n  outline: none;\n}\n\n.form__input.error:invalid {\n  border: 1px solid red;\n  animation: invalidInput 0.4s 1;\n  animation-fill-mode: backwards;\n}\n\n.form__input.error:valid {\n  border: 1px solid transparent;\n}\n\n@keyframes invalidInput {\n  0% {\n    transform: translateX(0px);\n  }\n  20% {\n    transform: translateX(2px);\n  }\n  40% {\n    transform: translateX(-2px);\n  }\n  60% {\n    transform: translateX(2px);\n  }\n  80% {\n    transform: translateX(-2px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n\n.error-message {\n  font-size: 16px;\n  color: red;\n  letter-spacing: 0.6px;\n  transform: translateY(-14px);\n}\n\n.button {\n  display: block;\n  padding: 10px;\n  max-width: 120px;\n  width: 100%;\n  font-family: inherit;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  color: white;\n  border-radius: 4px;\n  background-color: cornflowerblue;\n  cursor: pointer;\n  transition:\n    background-color 0.3s ease-in-out,\n    border-color 0.3s ease;\n}\n\n.button_login {\n  margin: 20px auto 0;\n  border: 1px solid white;\n}\n\n.button_login:disabled {\n  pointer-events: none;\n  filter: grayscale(1);\n}\n\n.button_login:hover {\n  border-color: whitesmoke;\n  background-color: rgba(106, 90, 205, 0.4);\n}\n",""]);const o=r},281:(e,t,n)=>{n.d(t,{A:()=>x});var s=n(601),a=n.n(s),i=n(314),r=n.n(i),o=n(417),l=n.n(o),c=new URL(n(606),n.b),d=new URL(n(263),n.b),u=new URL(n(480),n.b),h=new URL(n(414),n.b),p=r()(a()),m=l()(c),g=l()(d),f=l()(u),v=l()(h);p.push([e.id,`/* HEADER */\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  user-select: none;\n}\n\n.header.disabled {\n  pointer-events: none;\n}\n\n.settings {\n  display: flex;\n  gap: 30px;\n}\n\n.settings__label {\n  margin-right: 10px;\n  color: beige;\n}\n\n.settings__selector {\n  width: 60px;\n  height: 24px;\n  font-size: 16px;\n  text-align: center;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: outline 0.2s ease-in;\n}\n\n.passed {\n  background-color: aquamarine;\n}\n\n/* HINTS */\n\n.hints {\n  display: flex;\n  gap: 10px;\n}\n\n.button {\n  display: block;\n  padding: 10px;\n  max-width: 120px;\n  width: 100%;\n  font-family: inherit;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  color: white;\n  border-radius: 4px;\n  background-color: cornflowerblue;\n  cursor: pointer;\n  user-select: none;\n  transition:\n    background-color 0.3s ease-in-out,\n    border-color 0.3s ease;\n}\n\n.button_hint-translate {\n  background: url(${m}) center no-repeat;\n}\n\n.button_hint-audio {\n  background: url(${g}) center no-repeat;\n}\n\n.button_hint-picture {\n  background: url(${f}) center no-repeat;\n}\n\n.button.button_hint.active {\n  background-color: coral;\n}\n\n.button.button_hint {\n  width: 40px;\n  height: 40px;\n  background-color: white;\n}\n\n.audio-hint {\n  margin: 10px auto;\n  width: 40px;\n  height: 40px;\n  background: url(${v}) center no-repeat;\n  filter: drop-shadow(0 0 12px white);\n  opacity: 0;\n  visibility: hidden;\n  cursor: pointer;\n  transition:\n    opacity 0.3s ease-in,\n    filter 0.3s ease-in,\n    visibility 0.3s ease-in;\n}\n\n.audio-hint.visible {\n  opacity: 1;\n  visibility: visible;\n}\n\n.audio-hint.active {\n  filter: drop-shadow(0 0 12px coral);\n  animation: play 0.5s ease-in-out infinite alternate;\n}\n\n@keyframes play {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(1.1);\n  }\n}\n\n.translate-hint {\n  margin-bottom: 20px;\n  max-width: 0;\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  color: white;\n  text-align: center;\n  text-shadow: 0 0 20px whitesmoke;\n  transition: max-width 0.5s ease-in-out;\n  overflow: hidden;\n  user-select: none;\n}\n\n.translate-hint.active {\n  max-width: 100%;\n}\n\n/* PUZZLE */\n\n.main {\n  position: relative;\n  padding-bottom: 20px;\n}\n\n.puzzle__wrapper {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  margin: 0 auto;\n  max-width: 728px;\n  user-select: none;\n}\n\n.rounds {\n  display: flex;\n  flex-direction: column;\n  max-width: 5%;\n}\n\n.game__round {\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.game__round span {\n  display: block;\n  padding: 4px;\n  width: 30px;\n  height: 30px;\n  font-size: 18px;\n  border-radius: 50%;\n  text-align: center;\n  background-color: white;\n  box-shadow: 1px 1px 4px black;\n}\n\n.puzzle {\n  position: relative;\n  max-width: 90%;\n  width: 100%;\n  background-color: steelblue;\n}\n\n.puzzle.disabled {\n  pointer-events: none;\n}\n\n.level-pic {\n  display: block;\n  width: 100%;\n  object-fit: contain;\n  opacity: 0;\n}\n\n.level-pic.visible {\n  animation: revialImg 3s forwards 1;\n}\n\n.level-board {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  opacity: 1;\n}\n\n.level-board.hidden {\n  animation: hideGame 2.5s forwards 1;\n}\n\n@keyframes revialImg {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes hideGame {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.board__row {\n  display: flex;\n}\n\n.board__row.disabled {\n  pointer-events: none;\n}\n\n.row__cell {\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px 5px;\n  border: 1px solid white;\n  color: white;\n  text-shadow: 0 0 3px red;\n  background-image: linear-gradient(\n      rgba(155, 155, 155, 0.5),\n      rgba(30, 30, 30, 0.6)\n    ),\n    var(--img-path);\n  background-repeat: no-repeat;\n  cursor: pointer;\n  transition: transform 0.1s ease-in-out;\n  user-select: none;\n}\n\n.row__cell.withoutHint {\n  background: gray;\n}\n\n.row__cell.right {\n  outline: 2px solid green;\n  outline-offset: -2px;\n}\n\n.row__cell.wrong {\n  outline: 2px solid red;\n  outline-offset: -2px;\n}\n\n.row__cell.hovered {\n  outline: 2px solid gold;\n  outline-offset: -2px;\n}\n\n.row__cell.touched {\n  transition-duration: 0ms;\n}\n\n.row__cell[draggable='true'] {\n  touch-action: none;\n}\n\n.row__cell_empty {\n  flex-grow: 1;\n  min-height: inherit;\n  border: 8px solid transparent;\n  border-radius: 26px;\n  background-color: indianred;\n  background-clip: padding-box;\n  user-select: none;\n}\n\n.row__cell_empty.hovered {\n  background-color: gold;\n}\n\n.level-source {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 20px auto;\n  padding: 5px;\n  max-width: 680px;\n  width: 100%;\n  min-height: 53px;\n  border-radius: 4px;\n  box-shadow: 1px 1px 4px black;\n  text-align: center;\n  background-color: steelblue;\n  user-select: none;\n}\n\n.level-source.disabled {\n  pointer-events: none;\n}\n\n.picture {\n  color: whitesmoke;\n  animation: revialImg 3s forwards 1;\n}\n\n/* FOOTER BUTTONS */\n\n.buttons-area {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n}\n\n.button.button_footer {\n  display: none;\n  border: 1px solid white;\n}\n\n.button.button_footer.visible {\n  display: block;\n}\n\n.button.button_logout {\n  position: absolute;\n  top: 0;\n  right: 30px;\n  background-color: brown;\n}\n\n.button.button_logout::after {\n  position: absolute;\n  top: calc(100% + 6px);\n  left: 0;\n  display: none;\n  content: 'Your data will be erased';\n  max-width: 100px;\n  font-size: 14px;\n  color: black;\n  border: 1px solid black;\n  background-color: wheat;\n}\n\n.button.button_result {\n  background-color: teal;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .settings__selector:hover {\n    outline: 2px solid coral;\n  }\n\n  .button_hint:hover {\n    background-color: seagreen;\n  }\n\n  .button.active:hover {\n    background-color: crimson;\n  }\n\n  .button_footer:hover {\n    border-color: whitesmoke;\n    background-color: rgba(106, 90, 205, 0.4);\n  }\n\n  .button_logout:hover::after {\n    display: block;\n  }\n\n  .row__cell:hover {\n    outline: 2px solid goldenrod;\n    outline-offset: -2px;\n  }\n}\n\n/* DESIGN PUZZLE PIECES */\n\n:root {\n  --path-offset: 20px;\n  --img-path: '';\n}\n\n.row__cell.first {\n  clip-path: polygon(\n    0% 0%,\n    0% 100%,\n    calc(var(--path-offset)) 100%,\n    calc(var(--path-offset)) 70%,\n    calc(var(--path-offset) + 3.123px) 69%,\n    calc(var(--path-offset) + 4.36px) 68%,\n    calc(var(--path-offset) + 5.25px) 67%,\n    calc(var(--path-offset) + 6px) 66%,\n    calc(var(--path-offset) + 6.614px) 65%,\n    calc(var(--path-offset) + 7.14px) 64%,\n    calc(var(--path-offset) + 7.6px) 63%,\n    calc(var(--path-offset) + 8px) 62%,\n    calc(var(--path-offset) + 8.35px) 61%,\n    calc(var(--path-offset) + 8.66px) 60%,\n    calc(var(--path-offset) + 8.93px) 59%,\n    calc(var(--path-offset) + 9.165px) 58%,\n    calc(var(--path-offset) + 9.367px) 57%,\n    calc(var(--path-offset) + 9.54px) 56%,\n    calc(var(--path-offset) + 9.682px) 55%,\n    calc(var(--path-offset) + 9.78px) 54%,\n    calc(var(--path-offset) + 9.886px) 53%,\n    calc(var(--path-offset) + 9.95px) 52%,\n    calc(var(--path-offset) + 9.9875px) 51%,\n    calc(var(--path-offset) + 10px) 50%,\n    calc(var(--path-offset) + 9.9875px) 49%,\n    calc(var(--path-offset) + 9.95px) 48%,\n    calc(var(--path-offset) + 9.886px) 47%,\n    calc(var(--path-offset) + 9.78px) 46%,\n    calc(var(--path-offset) + 9.682px) 45%,\n    calc(var(--path-offset) + 9.54px) 44%,\n    calc(var(--path-offset) + 9.367px) 43%,\n    calc(var(--path-offset) + 9.165px) 42%,\n    calc(var(--path-offset) + 8.93px) 41%,\n    calc(var(--path-offset) + 8.66px) 40%,\n    calc(var(--path-offset) + 8.35px) 39%,\n    calc(var(--path-offset) + 8px) 38%,\n    calc(var(--path-offset) + 7.6px) 37%,\n    calc(var(--path-offset) + 7.14px) 36%,\n    calc(var(--path-offset) + 6.614px) 35%,\n    calc(var(--path-offset) + 6px) 34%,\n    calc(var(--path-offset) + 5.25px) 33%,\n    calc(var(--path-offset) + 4.36px) 32%,\n    calc(var(--path-offset) + 3.123px) 31%,\n    calc(var(--path-offset)) 30%,\n    calc(var(--path-offset)) 0%\n  );\n}\n\n.row__cell.center {\n  clip-path: polygon(\n    0% 0%,\n    0% 30%,\n    3.123px 31%,\n    4.36px 32%,\n    5.25px 33%,\n    6px 34%,\n    6.614px 35%,\n    7.14px 36%,\n    7.6px 37%,\n    8px 38%,\n    8.35px 39%,\n    8.66px 40%,\n    8.93px 41%,\n    9.165px 42%,\n    9.367px 43%,\n    9.54px 44%,\n    9.682px 45%,\n    9.78px 46%,\n    9.886px 47%,\n    9.95px 48%,\n    9.9875px 49%,\n    10px 50%,\n    9.9875px 51%,\n    9.95px 52%,\n    9.886px 53%,\n    9.78px 54%,\n    9.682px 55%,\n    9.54px 56%,\n    9.367px 57%,\n    9.165px 58%,\n    8.93px 59%,\n    8.66px 60%,\n    8.35px 61%,\n    8px 62%,\n    7.6px 63%,\n    7.14px 64%,\n    6.614px 65%,\n    6px 66%,\n    5.25px 67%,\n    4.36px 68%,\n    3.123px 69%,\n    0% 70%,\n    0% 100%,\n    calc(var(--path-offset)) 100%,\n    calc(var(--path-offset)) 70%,\n    calc(var(--path-offset) + 3.123px) 69%,\n    calc(var(--path-offset) + 4.36px) 68%,\n    calc(var(--path-offset) + 5.25px) 67%,\n    calc(var(--path-offset) + 6px) 66%,\n    calc(var(--path-offset) + 6.614px) 65%,\n    calc(var(--path-offset) + 7.14px) 64%,\n    calc(var(--path-offset) + 7.6px) 63%,\n    calc(var(--path-offset) + 8px) 62%,\n    calc(var(--path-offset) + 8.35px) 61%,\n    calc(var(--path-offset) + 8.66px) 60%,\n    calc(var(--path-offset) + 8.93px) 59%,\n    calc(var(--path-offset) + 9.165px) 58%,\n    calc(var(--path-offset) + 9.367px) 57%,\n    calc(var(--path-offset) + 9.54px) 56%,\n    calc(var(--path-offset) + 9.682px) 55%,\n    calc(var(--path-offset) + 9.78px) 54%,\n    calc(var(--path-offset) + 9.886px) 53%,\n    calc(var(--path-offset) + 9.95px) 52%,\n    calc(var(--path-offset) + 9.9875px) 51%,\n    calc(var(--path-offset) + 10px) 50%,\n    calc(var(--path-offset) + 9.9875px) 49%,\n    calc(var(--path-offset) + 9.95px) 48%,\n    calc(var(--path-offset) + 9.886px) 47%,\n    calc(var(--path-offset) + 9.78px) 46%,\n    calc(var(--path-offset) + 9.682px) 45%,\n    calc(var(--path-offset) + 9.54px) 44%,\n    calc(var(--path-offset) + 9.367px) 43%,\n    calc(var(--path-offset) + 9.165px) 42%,\n    calc(var(--path-offset) + 8.93px) 41%,\n    calc(var(--path-offset) + 8.66px) 40%,\n    calc(var(--path-offset) + 8.35px) 39%,\n    calc(var(--path-offset) + 8px) 38%,\n    calc(var(--path-offset) + 7.6px) 37%,\n    calc(var(--path-offset) + 7.14px) 36%,\n    calc(var(--path-offset) + 6.614px) 35%,\n    calc(var(--path-offset) + 6px) 34%,\n    calc(var(--path-offset) + 5.25px) 33%,\n    calc(var(--path-offset) + 4.36px) 32%,\n    calc(var(--path-offset) + 3.123px) 31%,\n    calc(var(--path-offset)) 30%,\n    calc(var(--path-offset)) 0%\n  );\n}\n\n.row__cell.last {\n  clip-path: polygon(\n    0% 0%,\n    0% 30%,\n    3.123px 31%,\n    4.36px 32%,\n    5.25px 33%,\n    6px 34%,\n    6.614px 35%,\n    7.14px 36%,\n    7.6px 37%,\n    8px 38%,\n    8.35px 39%,\n    8.66px 40%,\n    8.93px 41%,\n    9.165px 42%,\n    9.367px 43%,\n    9.54px 44%,\n    9.682px 45%,\n    9.78px 46%,\n    9.886px 47%,\n    9.95px 48%,\n    9.9875px 49%,\n    10px 50%,\n    9.9875px 51%,\n    9.95px 52%,\n    9.886px 53%,\n    9.78px 54%,\n    9.682px 55%,\n    9.54px 56%,\n    9.367px 57%,\n    9.165px 58%,\n    8.93px 59%,\n    8.66px 60%,\n    8.35px 61%,\n    8px 62%,\n    7.6px 63%,\n    7.14px 64%,\n    6.614px 65%,\n    6px 66%,\n    5.25px 67%,\n    4.36px 68%,\n    3.123px 69%,\n    0% 70%,\n    0% 100%,\n    100% 100%,\n    100% 0%\n  );\n}\n\n.row__cell.center,\n.row__cell.last {\n  margin-left: -6px;\n}\n`,""]);const x=p},709:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),a=n.n(s),i=n(314),r=n.n(i)()(a());r.push([e.id,".overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  backdrop-filter: blur(2px);\n}\n\n.result-page {\n  padding: 30px 40px;\n  max-width: 70%;\n  width: 100%;\n  background-color: burlywood;\n  border: thick double teal;\n  border-radius: 14px;\n}\n\n.result__image {\n  display: block;\n  margin: 0 auto;\n  max-width: 30%;\n  border-radius: 10px;\n  box-shadow: 0 0 6px teal;\n}\n\n.result__image-desc {\n  margin: 16px 0 24px;\n  text-align: center;\n}\n\n.result__title {\n  margin-bottom: 4px;\n  font-size: 20px;\n  font-weight: normal;\n}\n\n.result__num {\n  display: inline-block;\n  margin-left: 10px;\n  max-width: 24px;\n  width: 100%;\n  text-align: center;\n  border-radius: 42%;\n  color: white;\n}\n\n.result__title.known .result__num {\n  background-color: seagreen;\n}\n\n.result__title.unknown .result__num {\n  background-color: crimson;\n}\n\n.result-table__wrapper {\n  max-height: 300px;\n  overflow: auto;\n}\n\n.result__known,\n.result__unknown {\n  margin-bottom: 16px;\n  padding-left: 14px;\n  list-style: none;\n}\n\n.result__known li,\n.result__unknown li {\n  margin: 5px 0;\n}\n\n.audio-url {\n  margin-right: 8px;\n  cursor: pointer;\n}\n\n.result-page__button {\n  display: block;\n  margin: 30px auto 0;\n  border: 1px solid white;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .result-page__button:hover {\n    border-color: whitesmoke;\n    background-color: teal;\n  }\n}\n",""]);const o=r},982:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(601),a=n.n(s),i=n(314),r=n.n(i),o=n(417),l=n.n(o),c=new URL(n(308),n.b),d=r()(a()),u=l()(c);d.push([e.id,`.start-page {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  background: linear-gradient(90deg, #25262b, #37407d, #25262b);\n  opacity: 1;\n  visibility: visible;\n  transition: all 0.5s ease-out;\n}\n\n.start-page.invisible {\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n}\n\n.start-page__wrapper {\n  position: relative;\n  padding: 40px;\n  max-width: 640px;\n  text-align: center;\n  border: thick double seashell;\n  border-radius: 14px;\n  opacity: 0;\n  background: url(${u}) center no-repeat;\n  background-size: 122%;\n  background-position: -110px;\n}\n\n.start-page.visible .start-page__wrapper {\n  animation: showStart 2s 1;\n  animation-fill-mode: forwards;\n  animation-delay: 0.5s;\n}\n\n@keyframes showStart {\n  100% {\n    opacity: 1;\n  }\n}\n\n.app__title {\n  margin-bottom: 20px;\n  text-transform: uppercase;\n  font-size: 52px;\n  color: white;\n  text-shadow: 0 0 10px black;\n}\n\n.app__subtitle {\n  margin-bottom: 20px;\n  font-size: 30px;\n  text-shadow: 0 0 10px black;\n}\n\n.app__description {\n  font-size: 20px;\n  text-shadow: 0 0 10px black;\n}\n\n.button_start {\n  margin: 80px auto 0;\n  border: 1px solid white;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .button_start:hover {\n    border-color: whitesmoke;\n    background-color: rgba(106, 90, 205, 0.4);\n  }\n}\n`,""]);const h=d},708:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),a=n.n(s),i=n(314),r=n.n(i)()(a());r.push([e.id,":root {\n  --body-color: '';\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n\nbody {\n  height: 100vh;\n  background: linear-gradient(90deg, #25262b, #37407d, #25262b);\n  box-shadow: inset 0 0 14px var(--body-color);\n}\n\n.container {\n  margin: 0 auto;\n  padding: 10px 20px;\n  max-width: 800px;\n  font-family: 'Times New Roman', Times, serif;\n  font-size: 18px;\n  font-style: normal;\n}\n",""]);const o=r},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);s&&r[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var i={},r=[],o=0;o<e.length;o++){var l=e[o],c=s.base?l[0]+s.base:l[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=a(p,s);s.byIndex=o,t.splice(o,0,{identifier:u,updater:m,references:1})}r.push(u)}return r}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=s(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<i.length;r++){var o=n(i[r]);t[o].references--}for(var l=s(e,a),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=l}}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,a&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},263:(e,t,n)=>{e.exports=n.p+"assets/audio.svg"},480:(e,t,n)=>{e.exports=n.p+"assets/img.svg"},414:(e,t,n)=>{e.exports=n.p+"assets/sound-on.svg"},606:(e,t,n)=>{e.exports=n.p+"assets/text.svg"},308:(e,t,n)=>{e.exports=n.p+"assets/start-bg.jpg"}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{const e=new class{getData(){let e=localStorage.getItem("user");return null===e&&(this.createData(),e=localStorage.getItem("user")),JSON.parse(e)}setData(e,t){const n=this.getData();n[e]=t,localStorage.setItem("user",JSON.stringify(n))}createData(){const e={firstname:"",surname:"",lastLevel:1,lastRound:-1,isHintAudio:!0,isHintTranslate:!0,isHintPicture:!0,complLevels:[],complRounds:Array(6).fill([])};localStorage.setItem("user",JSON.stringify(e))}deleteData(){localStorage.clear()}};function t(e){if(null==e)throw new Error(`${e} is not defined`);return null!==e}class s{constructor(e,...t){var n;this.children=[];const s=document.createElement(null!==(n=e.tag)&&void 0!==n?n:"div");Object.assign(s,e),e.text&&(s.textContent=e.text),this.node=s,t&&this.appendChildren(t)}getNode(){return this.node}getChildren(){return this.children}append(e){e instanceof s?(this.node.append(e.getNode()),this.children.push(e)):this.node.append(e)}appendChildren(e){e.filter(t).forEach((e=>{this.append(e)}))}text(e){this.node.textContent=e}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e){this.node.classList.toggle(e)}containsClass(e){return this.node.classList.contains(e)}setAttribute(e,t){this.node.setAttribute(e,t)}removeAttribute(e){this.node.removeAttribute(e)}addEventListener(e,t,n=!1){this.node.addEventListener(e,t,n)}removeEventListener(e,t,n=!1){this.node.removeEventListener(e,t,n)}deleteChildren(){this.children.forEach((e=>{e.deleteNode()})),this.children.length=0}deleteNode(){this.deleteChildren(),this.node.remove()}}const a="https://raw.githubusercontent.com/rolling-scopes-school/rss-puzzle-data/main/",i=new class{getWordsForLevel(e){return t=this,n=void 0,i=function*(){const t=`${a}data/wordCollectionLevel${e}.json`,n=yield fetch(t);return yield n.json()},new((s=void 0)||(s=Promise))((function(e,a){function r(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(r,o)}l((i=i.apply(t,n||[])).next())}));var t,n,s,i}},r=e=>new s(Object.assign(Object.assign({},e),{tag:"input"})),o=e=>new s(Object.assign(Object.assign({},e),{tag:"label"})),l=e=>new s(Object.assign(Object.assign({},e),{tag:"select"})),c=e=>new s(Object.assign(Object.assign({},e),{tag:"img"})),d=e=>new s(Object.assign(Object.assign({},e),{tag:"span"})),u=e=>new s(Object.assign(Object.assign({},e),{tag:"option"}));class h extends s{constructor({className:e,text:t,type:n,disabled:s,onClick:a}){super({tag:"button",className:e,text:t}),a&&(this.onClick=a,this.addEventListener("click",this.onClick)),n&&this.setAttribute("type",n),s&&this.setAttribute("disabled","")}deleteNode(){this.onClick&&this.removeEventListener("click",this.onClick),super.deleteNode()}}class p extends s{constructor({className:e,text:t,height:n}){super({className:e,text:t}),n&&(this.height=n,this.getNode().style.height=`${n}px`),"row__cell_empty"!==e&&this.setAttribute("draggable","true")}}var m=n(72),g=n.n(m),f=n(825),v=n.n(f),x=n(659),b=n.n(x),w=n(56),y=n.n(w),_=n(540),N=n.n(_),C=n(113),k=n.n(C),S=n(709),L={};L.styleTagTransform=k(),L.setAttributes=y(),L.insert=b().bind(null,"head"),L.domAPI=v(),L.insertStyleElement=N(),g()(S.A,L),S.A&&S.A.locals&&S.A.locals;class A extends s{constructor(e,t){var n=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n}(e,[]);super({className:"overlay"}),this.addEventListener("click",(e=>{(null==e?void 0:e.target)===(null==e?void 0:e.currentTarget)&&(this.AudioPlayer.getNode().pause(),this.deleteNode())})),this.AudioPlayer=new s({tag:"audio",src:""}),this.KnownList=new s({tag:"ul",className:"result__known"},...n.known.map((e=>new s({tag:"li"},d({className:"audio-url",text:"üîä",onclick:()=>this.playAudio(e[1])}),d({className:"result__sentence",text:e[0]}))))),this.UnknownList=new s({tag:"ul",className:"result__unknown"},...n.unknown.map((e=>new s({tag:"li"},d({className:"audio-url",text:"üîä",onclick:()=>this.playAudio(e[1])}),d({className:"result__sentence",text:e[0]}))))),this.appendChildren([new s({className:"result-page"},c({className:"result__image",src:n.picSrc,alt:n.picName,width:133,height:75}),new s({tag:"p",className:"result__image-desc",text:`${n.picName} (${n.picYear}) by ${n.picAuthor}`}),new s({className:"result-table__wrapper"},new s({tag:"h3",className:"result__title unknown",innerHTML:`I dont know<span class="result__num">${n.unknown.length}</span>`}),this.UnknownList,new s({tag:"h3",className:"result__title known",innerHTML:`I know<span class="result__num">${n.known.length}</span>`}),this.KnownList),new h({className:"button result-page__button",text:"Continue",onClick:()=>{this.AudioPlayer.getNode().pause(),t(),this.deleteNode()}}))])}playAudio(e){this.AudioPlayer.getNode().src=e,this.AudioPlayer.getNode().play()}}var G=n(281),B={};B.styleTagTransform=k(),B.setAttributes=y(),B.insert=b().bind(null,"head"),B.domAPI=v(),B.insertStyleElement=N(),g()(G.A,B),G.A&&G.A.locals&&G.A.locals;var R=function(e,t,n,s){return new(n||(n=Promise))((function(a,i){function r(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};var H=n(447),P={};P.styleTagTransform=k(),P.setAttributes=y(),P.insert=b().bind(null,"head"),P.domAPI=v(),P.insertStyleElement=N(),g()(H.A,P),H.A&&H.A.locals&&H.A.locals;class E extends s{constructor(t){super({tag:"form",className:"login__form",onsubmit:n=>{null==n||n.preventDefault();const s=this.InputFirstName.getNode().value,a=this.InputSurname.getNode().value;e.setData("firstname",s),e.setData("surname",a),this.InputFirstName.getNode().value="",this.InputSurname.getNode().value="",t()}}),this.InputFirstName=r({className:"form__input",type:"text",id:"firstname",name:"firstname",placeholder:"...",required:!0,maxLength:16,oninput:()=>this.checkValidity("first",this.ErrorMsgFirstName)}),this.InputSurname=r({className:"form__input",type:"text",id:"surname",name:"surname",placeholder:"...",required:!0,maxLength:16,oninput:()=>this.checkValidity("sur",this.ErrorMsgSurname)}),this.LabelFirstName=o({className:"label",text:"First Name:",htmlFor:"firstname"}),this.LabelSurname=o({className:"label",text:"Surname:",htmlFor:"surname"}),this.ErrorMsgFirstName=new s({className:"error-message",text:""}),this.ErrorMsgSurname=new s({className:"error-message",text:""}),this.LoginButton=new h({className:"button button_login",text:"Login",type:"submit",disabled:!0}),this.appendChildren([this.LabelFirstName,this.InputFirstName,this.ErrorMsgFirstName,this.LabelSurname,this.InputSurname,this.ErrorMsgSurname,this.LoginButton])}checkValidity(e,t){var n;this.LoginButton.setAttribute("disabled","");const s="first"===e?this.InputFirstName:this.InputSurname,{value:a}=s.getNode();if(!a)return;const i="first"===e?3:4;if(a.charCodeAt(0)<65||a.charCodeAt(0)>90)t.text("‚ùå First letter uppercase required");else if(a.length<i)t.text(`‚ùå Minimum ${i} symbols required`);else if(a.match(/^[A-Z]{1}[a-zA-Z-]+$/)){t.text("");const s="first"===e?this.InputSurname:this.InputFirstName;0===(null===(n=("first"===e?this.ErrorMsgSurname:this.ErrorMsgFirstName).getNode().textContent)||void 0===n?void 0:n.length)&&s.getNode().value.length>0?this.LoginButton.removeAttribute("disabled"):this.LoginButton.setAttribute("disabled","")}else t.text('‚ùå Only english or "-"')}}var T=n(982),z={};z.styleTagTransform=k(),z.setAttributes=y(),z.insert=b().bind(null,"head"),z.domAPI=v(),z.insertStyleElement=N(),g()(T.A,z),T.A&&T.A.locals&&T.A.locals;const I=new class extends s{constructor(){super({className:"main"}),this.Rounds=[],this.curGame={curLevel:1,curRound:0,isAudioHint:!0,isTranslateHint:!0,isPictureHint:!0,curSentenceNumber:0,complLevels:[],complRounds:[],known:[],unknown:[]},this.data={rounds:[],roundsCount:0},this.puzzles=[],this.sentencesArr=[],this.isSkipped=!1,this.LevelSelector=l({className:"settings__selector",name:"levels",id:"levels",onchange:()=>this.roundChangeHandler().then((()=>this.createNewRound()))});for(let e=1;e<=6;e+=1)this.LevelSelector.append(u({text:String(e),value:String(e)}));this.RoundSelector=l({className:"settings__selector",name:"rounds",id:"rounds",onchange:()=>this.roundChangeHandler().then((()=>this.createNewRound()))}),this.HintTranslateBtn=new h({className:"button button_hint button_hint-translate",onClick:()=>this.showHintTranslate()}),this.HintAudioBtn=new h({className:"button button_hint button_hint-audio",onClick:()=>this.showHintAudio()}),this.HintPicBtn=new h({className:"button button_hint button_hint-picture",onClick:()=>this.showHintPic()}),this.Audio=new s({tag:"audio",src:""}),this.Audio.addEventListener("play",(()=>{this.AudioPlayBtn.addClass("active")})),this.Audio.addEventListener("ended",(()=>{this.AudioPlayBtn.removeClass("active")})),this.AudioPlayBtn=new s({className:"audio-hint",onclick:()=>this.playAudio()},this.Audio),this.TranslatedArea=new s({className:"translate-hint"}),this.PuzzleImg=c({className:"level-pic",src:"",alt:""}),this.GameBoard=new s({className:"level-board"}),this.GameSource=new s({className:"level-source"}),this.GameSource.setAttribute("data-section","source"),this.GameSource.addEventListener("click",(e=>{this.replaceHandler(e),setTimeout((()=>{this.checkHandler()}),200)})),this.addDragNDrop(this.GameSource),this.ButtonSkip=new h({className:"button button_footer visible",text:"I dont know",onClick:()=>{var e,t;this.isSkipped=!0,this.ButtonSkip.removeClass("visible"),this.ButtonCheck.removeClass("visible"),this.GameSource.addClass("disabled"),null===(e=document.querySelector(".puzzle"))||void 0===e||e.classList.add("disabled"),null===(t=document.querySelector(".header"))||void 0===t||t.classList.add("disabled");const n=this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode().querySelectorAll(".row__cell"),s=this.GameSource.getNode().querySelectorAll(".row__cell"),a=n.length,i=s.length;this.changeCards(1),setTimeout((()=>this.changeCards(2)),150*a),setTimeout((()=>this.changeCards(3)),300*a),setTimeout((()=>{var e,t;this.ButtonContinue.addClass("visible"),this.showTranslate(),this.showAudio(),this.showPic(),this.GameSource.removeClass("disabled"),null===(e=document.querySelector(".puzzle"))||void 0===e||e.classList.remove("disabled"),null===(t=document.querySelector(".header"))||void 0===t||t.classList.remove("disabled"),this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode().classList.add("disabled"),this.checkHandler()}),150*(2*a+i))}}),this.ButtonContinue=new h({className:"button button_footer",text:"Continue",onClick:()=>this.continueBtnHandler()}),this.ButtonResult=new h({className:"button button_footer button_result",text:"Result",onClick:()=>{return this.append((e={picSrc:`${a}images/${this.data.rounds[this.curGame.curRound].levelData.cutSrc}`,picName:this.data.rounds[this.curGame.curRound].levelData.name,picAuthor:this.data.rounds[this.curGame.curRound].levelData.name,picYear:this.data.rounds[this.curGame.curRound].levelData.year,known:this.curGame.known,unknown:this.curGame.unknown},new A(e,(()=>this.initGame()))));var e}}),this.ButtonCheck=new h({className:"button button_footer",text:"Check",onClick:()=>this.checkBtnHandler()}),this.ButtonLogout=new h({className:"button button_footer button_logout visible",text:"Logout",onClick:()=>{e.deleteData();const t=document.querySelector(".start-page");null==t||t.classList.remove("invisible"),null==t||t.classList.remove("no-login")}});for(let e=1;e<=10;e+=1)this.Rounds.push(new s({className:"game__round"},d({text:String(e)})));this.appendChildren([new s({className:"header"},new s({className:"settings"},new s({className:"level__wrapper"},o({className:"settings__label",htmlFor:"levels",id:"levels",text:"Level:"}),this.LevelSelector),new s({className:"round__wrapper"},o({className:"settings__label",htmlFor:"pages",id:"pages",text:"Round:"}),this.RoundSelector)),new s({className:"hints"},this.HintTranslateBtn,this.HintAudioBtn,this.HintPicBtn)),this.AudioPlayBtn,this.TranslatedArea,new s({className:"game"},new s({className:"puzzle__wrapper"},new s({className:"rounds"},...this.Rounds),new s({className:"puzzle"},this.PuzzleImg,this.GameBoard)),this.GameSource),new s({className:"buttons-area"},this.ButtonSkip,this.ButtonContinue,this.ButtonResult,this.ButtonCheck,this.ButtonLogout)])}determineLevelAndRound(){return R(this,void 0,void 0,(function*(){const t=e.getData();let{lastLevel:n,lastRound:s}=t;if(null===n||null===s)return;this.data=yield i.getWordsForLevel(n),this.data.roundsCount-1===s?(n+=1,n>6&&(n=1),s=0,this.data=yield i.getWordsForLevel(n)):s+=1,this.curGame.curLevel=n,this.curGame.curRound=s,this.curGame.isAudioHint=t.isHintAudio,this.curGame.isTranslateHint=t.isHintTranslate,this.curGame.isPictureHint=t.isHintPicture,this.curGame.complLevels=t.complLevels;const a=t.complRounds[n-1];a&&(this.curGame.complRounds=a)}))}initGame(){this.determineLevelAndRound().then((()=>this.createNewRound()))}createNewRound(){this.hideFooterBtns(),this.changeRoundStyle(),this.curGame.curSentenceNumber=0;const e=this.curGame.curRound;this.puzzles=[],this.sentencesArr=[],this.isSkipped=!1,this.curGame.unknown=[],this.curGame.known=[],this.GameSource.getNode().innerHTML="",this.GameSource.removeClass("disabled"),this.GameBoard.deleteChildren(),this.PuzzleImg.getNode().src=`${a}images/${this.data.rounds[e].levelData.imageSrc}`;let t=0,n=0;this.PuzzleImg.getNode().onload=()=>{t=this.PuzzleImg.getNode().width,n=this.PuzzleImg.getNode().height,this.makePuzzlesForRound(t,n),this.buildActiveSourceBlock(),this.buildActiveResultBlock(),this.curGame.isPictureHint?(this.HintPicBtn.addClass("active"),this.showPic()):(this.HintPicBtn.removeClass("active"),this.hidePic()),this.initFooterBtns()},this.PuzzleImg.getNode().alt=this.data.rounds[e].levelData.name,this.curGame.isAudioHint?(this.HintAudioBtn.addClass("active"),this.showAudio()):(this.HintAudioBtn.removeClass("active"),this.hideAudio()),this.curGame.isTranslateHint?(this.HintTranslateBtn.addClass("active"),this.showTranslate()):(this.HintTranslateBtn.removeClass("active"),this.hideTranslate()),this.updateRoundAmount()}makePuzzlesForRound(e,t){const n=this.GameBoard.getNode().clientHeight/this.data.rounds[0].words.length,{levelData:i,words:r}=this.data.rounds[this.curGame.curRound],o=`${a}images/${i.imageSrc}`;for(let a=0;a<r.length;a+=1){this.puzzles.push([]),this.sentencesArr.push(r[a].textExample);const i=r[a].textExample.split(" "),l=new s({className:"board__row"});l.setAttribute("data-section","row"),this.GameBoard.append(l);for(let e=0;e<i.length;e+=1){const t=new p({className:"row__cell",text:i[e],height:n});l.append(t)}const c=l.getChildren();for(let n=0;n<c.length;n+=1){const s=c[n].getNode();0===n?s.classList.add("first"):n===c.length-1?s.classList.add("last"):s.classList.add("center");const{offsetTop:i,offsetLeft:r}=s;s.style.backgroundSize=`${e}px ${t}px`,s.style.backgroundPosition=`${-r}px ${-i}px`,s.style.width=getComputedStyle(s).width,s.style.flexGrow="0";const l=parseInt(getComputedStyle(s).width,10)-10;s.style.setProperty("--path-offset",`${l}px`),s.style.setProperty("--img-path",`url(${o})`),s.classList.add("withoutHint"),this.puzzles[a].push(s)}l.deleteChildren()}}buildActiveSourceBlock(){const e=this.puzzles[this.curGame.curSentenceNumber];this.GameSource.appendChildren((e=>{const t=e.slice();for(let e=t.length-1;e>0;e-=1){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t})(e));const t=this.GameBoard.getChildren()[this.curGame.curSentenceNumber];this.GameSource.getNode().addEventListener("touchstart",(e=>this.touchStart(t.getNode(),e)))}buildActiveResultBlock(){const e=this.GameBoard.getChildren()[this.curGame.curSentenceNumber];this.puzzles[this.curGame.curSentenceNumber].forEach((()=>{e.append(new p({className:"row__cell_empty"}))})),e.addEventListener("click",(e=>this.replaceHandler(e))),this.addDragNDrop(e),e.getNode().addEventListener("touchstart",(t=>this.touchStart(e.getNode(),t)))}updateRoundAmount(){this.RoundSelector.deleteChildren();const e=this.data.roundsCount;for(let t=1;t<=e;t+=1){let e="";this.curGame.complRounds.includes(t)&&(e="passed"),this.RoundSelector.append(u({text:String(t),value:String(t),className:e}))}const t=this.LevelSelector.getChildren();for(let e=1;e<=6;e+=1)this.curGame.complLevels.includes(e)?t[e-1].addClass("passed"):t[e-1].removeClass("passed");this.LevelSelector.getNode().value=String(this.curGame.curLevel),this.RoundSelector.getNode().value=String(this.curGame.curRound+1)}replaceHandler(e){if(!(null==e?void 0:e.target))return;const t=e.target;if(!t.classList.contains("row__cell"))return;const n=t.closest("[data-section]");if(!n)return;if(n.classList.contains("board__row")&&n!==this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode())return;this.ButtonCheck.removeClass("visible"),this.ButtonContinue.removeClass("visible"),this.ButtonSkip.addClass("visible");const s=(n.classList.contains("board__row")?this.GameSource:this.GameBoard.getChildren()[this.curGame.curSentenceNumber]).getNode().querySelector(".row__cell_empty"),a=t.getBoundingClientRect().top,i=t.getBoundingClientRect().left,r=s.getBoundingClientRect().top-a,o=s.getBoundingClientRect().left-i,l=this.GameBoard.getNode().clientHeight/this.data.rounds[0].words.length;t.style.transform=`translate(${o}px, ${r}px)`,t.addEventListener("transitionend",(function e(){t.style.transform="unset",t.after(new p({className:"row__cell_empty",height:l}).getNode()),s.replaceWith(t),t.removeEventListener("transitionend",e)}))}changeCards(e){const t=this.sentencesArr[this.curGame.curSentenceNumber].split(" "),n=this.GameBoard.getChildren()[this.curGame.curSentenceNumber];function s(s,a){setTimeout((()=>{const a=s,i=s.textContent;let r;r=1===e||3===e?t.lastIndexOf(i):t.indexOf(i),t[r]="";const o=n.getNode().childNodes[r];if(a===o)return;const l=a.getBoundingClientRect().top,c=a.getBoundingClientRect().left,d=o.getBoundingClientRect().top-l,u=o.getBoundingClientRect().left-c;a.style.transform=`translate(${u}px, ${d}px)`,a.addEventListener("transitionend",(function e(){a.style.transform="unset";const t=o.cloneNode(!0);a.after(t),o.replaceWith(a),a.removeEventListener("transitionend",e)}))}),150*a)}3===e?this.GameSource.getNode().querySelectorAll(".row__cell").forEach(((e,t)=>s(e,t))):n.getNode().querySelectorAll(".row__cell").forEach(((e,t)=>s(e,t)))}checkHandler(){let e=0;const t=this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode().children;for(let n=0;n<t.length;n+=1)t[n].classList.contains("row__cell")&&(e+=1);e===this.puzzles[this.curGame.curSentenceNumber].length&&(this.isResultRight(t)?(this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode().classList.add("disabled"),this.GameSource.addClass("disabled"),this.ButtonCheck.removeClass("visible"),this.ButtonContinue.addClass("visible"),this.ButtonSkip.removeClass("visible"),this.showTranslate(),this.showAudio(),this.showPic(),this.saveResult(),9===this.curGame.curSentenceNumber&&(this.showPuzzleImg(),this.ButtonResult.addClass("visible"))):(this.ButtonCheck.addClass("visible"),this.ButtonContinue.removeClass("visible"),this.ButtonSkip.addClass("visible")))}isResultRight(e){const t=[];for(let n=0;n<e.length;n+=1)t.push(e[n].textContent);const n=this.sentencesArr[this.curGame.curSentenceNumber];return t.join(" ")===n}checkBtnHandler(){const e=this.GameBoard.getChildren()[this.curGame.curSentenceNumber].getNode().children,t=this.sentencesArr[this.curGame.curSentenceNumber].split(" ");for(let n=0;n<e.length;n+=1)e[n].textContent===t[n]?e[n].classList.add("right"):e[n].classList.add("wrong");setTimeout((()=>{document.querySelectorAll(".row__cell").forEach((e=>{e.classList.remove("right"),e.classList.remove("wrong")}))}),2e3)}continueBtnHandler(){this.curGame.curSentenceNumber===this.sentencesArr.length-1?this.initGame():(this.GameBoard.getChildren()[this.curGame.curSentenceNumber].addClass("disabled"),this.curGame.curSentenceNumber+=1,this.GameSource.getNode().innerHTML="",this.GameSource.removeClass("disabled"),this.buildActiveSourceBlock(),this.buildActiveResultBlock(),this.ButtonContinue.removeClass("visible"),this.ButtonSkip.addClass("visible"),this.HintTranslateBtn.containsClass("active")?this.showTranslate():this.hideTranslate(),this.HintAudioBtn.containsClass("active")?this.showAudio():this.hideAudio(),this.HintPicBtn.containsClass("active")?this.showPic():this.hidePic())}addDragNDrop(e){e.addEventListener("dragstart",this.dragStart),e.addEventListener("dragend",(e=>this.dragEnd(e))),e.addEventListener("dragenter",this.dragEnter),e.addEventListener("dragleave",this.dragLeave),e.addEventListener("dragover",this.dragOver),e.addEventListener("drop",(e=>{this.dragDrop(e),this.ButtonCheck.removeClass("visible"),this.checkHandler()}))}dragStart(e){const t=null==e?void 0:e.target;t instanceof HTMLDivElement&&t.classList.add("selected")}dragEnd(e){const t=null==e?void 0:e.target;t instanceof HTMLDivElement&&t.classList.remove("selected")}dragEnter(e){(null==e?void 0:e.target).classList.add("hovered")}dragLeave(e){(null==e?void 0:e.target).classList.remove("hovered")}dragOver(e){null==e||e.preventDefault()}dragDrop(e){const t=document.querySelector(".selected");if(!t)return;const n=null==e?void 0:e.target;if(n.classList.remove("hovered"),t===n)return;if(n.hasAttribute("data-section"))return;const s=n.cloneNode(!0);t.after(s),n.replaceWith(t)}touchStart(e,t){if(!t)return;const n=t.touches[0],s=n.clientX,a=n.clientY,i=document.querySelector(".level-source"),r=e=>{if(!e)return;const t=e.target;if(!t.hasAttribute("draggable"))return;t.classList.add("touched");const n=e.touches[0],i=n.clientX-s,r=n.clientY-a;t.style.transform=`translate(${i}px, ${r}px)`},o=t=>{if(!t)return;const n=t.target,s=t.changedTouches[0].clientX,a=t.changedTouches[0].clientY;setTimeout((()=>{if(!n)return;const e=document.querySelector(".touched"),t=document.elementFromPoint(s,a);if(n.classList.remove("touched"),null===e||null===t)return;if(t.hasAttribute("data-section"))return;if(!t.closest("[data-section]"))return;if(e===t)return;const i=t.cloneNode(!0);e.after(i),t.replaceWith(e),this.ButtonCheck.removeClass("visible"),this.checkHandler()})),n.style.transform="",i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",o)};i.addEventListener("touchmove",r),i.addEventListener("touchend",o),e.addEventListener("touchmove",r),e.addEventListener("touchend",o)}showHintTranslate(){this.HintTranslateBtn.toggleClass("active"),this.HintTranslateBtn.containsClass("active")?(this.curGame.isTranslateHint=!0,e.setData("isHintTranslate",!0),this.showTranslate()):(this.curGame.isTranslateHint=!1,e.setData("isHintTranslate",!1),this.hideTranslate())}showTranslate(){const{curRound:e,curSentenceNumber:t}=this.curGame,{textExampleTranslate:n}=this.data.rounds[e].words[t];this.TranslatedArea.text(n),this.TranslatedArea.addClass("active")}hideTranslate(){this.TranslatedArea.text(""),setTimeout((()=>this.TranslatedArea.removeClass("active")))}showHintAudio(){this.HintAudioBtn.toggleClass("active"),this.HintAudioBtn.containsClass("active")?(this.curGame.isAudioHint=!0,e.setData("isHintAudio",!0),this.showAudio()):(this.curGame.isAudioHint=!1,e.setData("isHintAudio",!1),this.hideAudio())}showAudio(){this.AudioPlayBtn.addClass("visible")}hideAudio(){this.AudioPlayBtn.removeClass("visible")}playAudio(){const{curRound:e,curSentenceNumber:t}=this.curGame,{audioExample:n}=this.data.rounds[e].words[t],s=a+n;this.Audio.getNode().src=s,this.Audio.getNode().play()}showHintPic(){this.HintPicBtn.toggleClass("active"),this.HintPicBtn.containsClass("active")?(this.curGame.isPictureHint=!0,e.setData("isHintPicture",!0),this.showPic()):(this.curGame.isPictureHint=!1,e.setData("isHintPicture",!1),this.hidePic())}showPic(){this.puzzles.forEach((e=>{for(let t=0;t<e.length;t+=1)e[t].classList.remove("withoutHint")})),document.querySelectorAll(".row__cell").forEach((e=>e.classList.remove("withoutHint")))}hidePic(){this.puzzles.forEach((e=>{for(let t=0;t<e.length;t+=1)e[t].classList.add("withoutHint")})),document.querySelectorAll(".row__cell").forEach((e=>e.classList.add("withoutHint")))}hideFooterBtns(){this.ButtonResult.removeClass("visible"),this.ButtonContinue.removeClass("visible"),this.ButtonCheck.removeClass("visible"),this.ButtonSkip.removeClass("visible"),this.ButtonLogout.removeClass("visible")}initFooterBtns(){this.ButtonResult.removeClass("visible"),this.ButtonContinue.removeClass("visible"),this.ButtonCheck.removeClass("visible"),this.ButtonSkip.addClass("visible"),this.ButtonLogout.addClass("visible")}roundChangeHandler(){return R(this,void 0,void 0,(function*(){const t=+this.LevelSelector.getNode().value;this.curGame.curLevel=t;const n=+this.RoundSelector.getNode().value-1;this.data=yield i.getWordsForLevel(t),this.data.roundsCount<=n?this.curGame.curRound=this.data.roundsCount-1:this.curGame.curRound=n;const{complRounds:s}=e.getData();this.curGame.complRounds=s[t-1]}))}changeRoundStyle(){this.GameBoard.removeClass("hidden"),this.PuzzleImg.removeClass("visible");const e=document.querySelector("body");switch(this.curGame.curLevel){case 1:return e.style.setProperty("--body-color","seashell");case 2:return e.style.setProperty("--body-color","aquamarine");case 3:return e.style.setProperty("--body-color","green");case 4:return e.style.setProperty("--body-color","yellow");case 5:return e.style.setProperty("--body-color","coral");case 6:return e.style.setProperty("--body-color","red");default:return e.style.setProperty("--body-color","")}}endRoundHandler(){if(this.curGame.complRounds.includes(this.curGame.curRound+1)||this.curGame.complRounds.push(this.curGame.curRound+1),this.updateUserRounds(),this.RoundSelector.getChildren()[this.curGame.curRound].addClass("passed"),this.curGame.complRounds.length===this.data.roundsCount){if(this.updateUserLevels(),this.LevelSelector.getChildren()[this.curGame.curLevel-1].addClass("passed"),this.curGame.complLevels.includes(this.curGame.curLevel))return;this.curGame.complLevels.push(this.curGame.curLevel)}this.showPicInfo()}updateUserRounds(){const t=e.getData(),{curLevel:n,curRound:s}=this.curGame;t.complRounds[n-1].includes(s+1)||t.complRounds[n-1].push(s+1),t.lastRound=s,t.lastLevel=n,localStorage.setItem("user",JSON.stringify(t))}updateUserLevels(){const t=e.getData();t.complLevels.includes(this.curGame.curLevel)||t.complLevels.push(this.curGame.curLevel),localStorage.setItem("user",JSON.stringify(t))}showPuzzleImg(){this.endRoundHandler(),this.GameBoard.addClass("hidden"),this.PuzzleImg.addClass("visible")}showPicInfo(){this.GameSource.getNode().innerHTML="";const{author:e,name:t,year:n}=this.data.rounds[this.curGame.curRound].levelData;this.GameSource.append(new s({className:"picture",text:`${t} (${n}) by ${e}`}))}saveResult(){const{curRound:e,curSentenceNumber:t}=this.curGame,n=this.sentencesArr[t],{audioExample:s}=this.data.rounds[e].words[t],i=a+s;this.isSkipped?(this.curGame.unknown.push([n,i]),this.isSkipped=!1):this.curGame.known.push([n,i])}},D=new class extends s{constructor(e){super({className:"start-page"},new s({className:"start-page__wrapper"},new s({tag:"h1",className:"app__title",text:"English Puzzle"}),new s({tag:"h2",className:"app__subtitle"}),new s({tag:"p",className:"app__description",text:"Click on words, collect phrases"}),new s({tag:"p",className:"app__description",text:"Words can be drag and drop. Select tooltips in the menu"}),new h({className:"button button_start",text:"Start",onClick:()=>{e(),this.addClass("invisible"),setTimeout((()=>{this.removeClass("visible")}),600)}}))),this.LoginForm=(e=>new E((()=>this.showStartPage())))(),this.append(this.LoginForm),this.setPersonalName()}showStartPage(){this.setPersonalName(),this.addClass("visible")}setPersonalName(){const{firstname:t,surname:n}=e.getData();this.children[0].getChildren()[1].text(`Hello, ${t} ${n}!`)}}((function(){I.initGame()})),$=new s({className:"container"},I,D),O=document.querySelector("body"),j=new class{constructor(e,t){this.pageWrapper=e,this.root=t}start(){this.root.append(this.pageWrapper.getNode()),this.checkIsUser()}checkIsUser(){const t=e.getData();if(t.firstname&&t.surname){const e=this.pageWrapper.getChildren()[1];e.addClass("visible"),e.addClass("no-login")}}}($,O);var F=n(708),M={};M.styleTagTransform=k(),M.setAttributes=y(),M.insert=b().bind(null,"head"),M.domAPI=v(),M.insertStyleElement=N(),g()(F.A,M),F.A&&F.A.locals&&F.A.locals,j.start()})()})();